#!/bin/bash
#--------------------------------------------------------------------
# Disks info, free space, free inodes
#--------------------------------------------------------------------
# Test filename var
#--------------------------------------------------------------------
if [ -z $1 ]
then
    BASEDIR=`dirname $0`
    DIRPATH=`cd $BASEDIR; pwd`
    f=$DIRPATH/data/`date +%Y.%m.%d_%H:%M:%S_%diskst`
else
    f="$1"
fi
#--------------------------------------------------------------------
f1="/tmp/disksinfo1"
f2="/tmp/disksinfo2"
#--------------------------------------------------------------------
df -a  | grep -v -E '( /run| /dev| /sys| /proc| /var)' > $f1
df -ai | grep -v -E '( /run| /dev| /sys| /proc| /var)' > $f2
#--------------------------------------------------------------------
cat $f1 | awk -v FILE=$f2                        \
'{ getline line < FILE;                          \
   split(line, s);                               \
   split($0, k);                                 \
   print k[0]" "k[1]" "k[2]" "k[3]" "k[4]" "k[5] \
             " "s[2]" "s[3]" "s[4]" "s[5]" "s[6] \
}' | column -t
printf "\n"
#--------------------------------------------------------------------